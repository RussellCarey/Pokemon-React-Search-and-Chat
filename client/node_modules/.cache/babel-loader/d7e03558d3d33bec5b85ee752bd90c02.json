{"ast":null,"code":"!function (t, r) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = r() : \"function\" == typeof define && define.amd ? define(r) : t.ColorThief = r();\n}(this, function () {\n  if (!t) var t = {\n    map: function (t, r) {\n      var n = {};\n      return r ? t.map(function (t, o) {\n        return n.index = o, r.call(n, t);\n      }) : t.slice();\n    },\n    naturalOrder: function (t, r) {\n      return t < r ? -1 : t > r ? 1 : 0;\n    },\n    sum: function (t, r) {\n      var n = {};\n      return t.reduce(r ? function (t, o, e) {\n        return n.index = e, t + r.call(n, o);\n      } : function (t, r) {\n        return t + r;\n      }, 0);\n    },\n    max: function (r, n) {\n      return Math.max.apply(null, n ? t.map(r, n) : r);\n    }\n  };\n\n  var r = function () {\n    var r = 5,\n        n = 8 - r,\n        o = 1e3;\n\n    function e(t, n, o) {\n      return (t << 2 * r) + (n << r) + o;\n    }\n\n    function i(t) {\n      var r = [],\n          n = !1;\n\n      function o() {\n        r.sort(t), n = !0;\n      }\n\n      return {\n        push: function (t) {\n          r.push(t), n = !1;\n        },\n        peek: function (t) {\n          return n || o(), void 0 === t && (t = r.length - 1), r[t];\n        },\n        pop: function () {\n          return n || o(), r.pop();\n        },\n        size: function () {\n          return r.length;\n        },\n        map: function (t) {\n          return r.map(t);\n        },\n        debug: function () {\n          return n || o(), r;\n        }\n      };\n    }\n\n    function u(t, r, n, o, e, i, u) {\n      this.r1 = t, this.r2 = r, this.g1 = n, this.g2 = o, this.b1 = e, this.b2 = i, this.histo = u;\n    }\n\n    function a() {\n      this.vboxes = new i(function (r, n) {\n        return t.naturalOrder(r.vbox.count() * r.vbox.volume(), n.vbox.count() * n.vbox.volume());\n      });\n    }\n\n    function s(r, n) {\n      if (n.count()) {\n        var o = n.r2 - n.r1 + 1,\n            i = n.g2 - n.g1 + 1,\n            u = t.max([o, i, n.b2 - n.b1 + 1]);\n        if (1 == n.count()) return [n.copy()];\n        var a,\n            s,\n            h,\n            c,\n            f = 0,\n            v = [],\n            l = [];\n        if (u == o) for (a = n.r1; a <= n.r2; a++) {\n          for (c = 0, s = n.g1; s <= n.g2; s++) for (h = n.b1; h <= n.b2; h++) c += r[e(a, s, h)] || 0;\n\n          v[a] = f += c;\n        } else if (u == i) for (a = n.g1; a <= n.g2; a++) {\n          for (c = 0, s = n.r1; s <= n.r2; s++) for (h = n.b1; h <= n.b2; h++) c += r[e(s, a, h)] || 0;\n\n          v[a] = f += c;\n        } else for (a = n.b1; a <= n.b2; a++) {\n          for (c = 0, s = n.r1; s <= n.r2; s++) for (h = n.g1; h <= n.g2; h++) c += r[e(s, h, a)] || 0;\n\n          v[a] = f += c;\n        }\n        return v.forEach(function (t, r) {\n          l[r] = f - t;\n        }), function (t) {\n          var r,\n              o,\n              e,\n              i,\n              u,\n              s = t + \"1\",\n              h = t + \"2\",\n              c = 0;\n\n          for (a = n[s]; a <= n[h]; a++) if (v[a] > f / 2) {\n            for (e = n.copy(), i = n.copy(), u = (r = a - n[s]) <= (o = n[h] - a) ? Math.min(n[h] - 1, ~~(a + o / 2)) : Math.max(n[s], ~~(a - 1 - r / 2)); !v[u];) u++;\n\n            for (c = l[u]; !c && v[u - 1];) c = l[--u];\n\n            return e[h] = u, i[s] = e[h] + 1, [e, i];\n          }\n        }(u == o ? \"r\" : u == i ? \"g\" : \"b\");\n      }\n    }\n\n    return u.prototype = {\n      volume: function (t) {\n        return this._volume && !t || (this._volume = (this.r2 - this.r1 + 1) * (this.g2 - this.g1 + 1) * (this.b2 - this.b1 + 1)), this._volume;\n      },\n      count: function (t) {\n        var r = this.histo;\n\n        if (!this._count_set || t) {\n          var n,\n              o,\n              i,\n              u = 0;\n\n          for (n = this.r1; n <= this.r2; n++) for (o = this.g1; o <= this.g2; o++) for (i = this.b1; i <= this.b2; i++) u += r[e(n, o, i)] || 0;\n\n          this._count = u, this._count_set = !0;\n        }\n\n        return this._count;\n      },\n      copy: function () {\n        return new u(this.r1, this.r2, this.g1, this.g2, this.b1, this.b2, this.histo);\n      },\n      avg: function (t) {\n        var n = this.histo;\n\n        if (!this._avg || t) {\n          var o,\n              i,\n              u,\n              a,\n              s = 0,\n              h = 1 << 8 - r,\n              c = 0,\n              f = 0,\n              v = 0;\n\n          for (i = this.r1; i <= this.r2; i++) for (u = this.g1; u <= this.g2; u++) for (a = this.b1; a <= this.b2; a++) s += o = n[e(i, u, a)] || 0, c += o * (i + 0.5) * h, f += o * (u + 0.5) * h, v += o * (a + 0.5) * h;\n\n          this._avg = s ? [~~(c / s), ~~(f / s), ~~(v / s)] : [~~(h * (this.r1 + this.r2 + 1) / 2), ~~(h * (this.g1 + this.g2 + 1) / 2), ~~(h * (this.b1 + this.b2 + 1) / 2)];\n        }\n\n        return this._avg;\n      },\n      contains: function (t) {\n        var r = t[0] >> n;\n        return gval = t[1] >> n, bval = t[2] >> n, r >= this.r1 && r <= this.r2 && gval >= this.g1 && gval <= this.g2 && bval >= this.b1 && bval <= this.b2;\n      }\n    }, a.prototype = {\n      push: function (t) {\n        this.vboxes.push({\n          vbox: t,\n          color: t.avg()\n        });\n      },\n      palette: function () {\n        return this.vboxes.map(function (t) {\n          return t.color;\n        });\n      },\n      size: function () {\n        return this.vboxes.size();\n      },\n      map: function (t) {\n        for (var r = this.vboxes, n = 0; n < r.size(); n++) if (r.peek(n).vbox.contains(t)) return r.peek(n).color;\n\n        return this.nearest(t);\n      },\n      nearest: function (t) {\n        for (var r, n, o, e = this.vboxes, i = 0; i < e.size(); i++) ((n = Math.sqrt(Math.pow(t[0] - e.peek(i).color[0], 2) + Math.pow(t[1] - e.peek(i).color[1], 2) + Math.pow(t[2] - e.peek(i).color[2], 2))) < r || void 0 === r) && (r = n, o = e.peek(i).color);\n\n        return o;\n      },\n      forcebw: function () {\n        var r = this.vboxes;\n        r.sort(function (r, n) {\n          return t.naturalOrder(t.sum(r.color), t.sum(n.color));\n        });\n        var n = r[0].color;\n        n[0] < 5 && n[1] < 5 && n[2] < 5 && (r[0].color = [0, 0, 0]);\n        var o = r.length - 1,\n            e = r[o].color;\n        e[0] > 251 && e[1] > 251 && e[2] > 251 && (r[o].color = [255, 255, 255]);\n      }\n    }, {\n      quantize: function (h, c) {\n        if (!h.length || c < 2 || c > 256) return !1;\n\n        var f = function (t) {\n          var o,\n              i = new Array(1 << 3 * r);\n          return t.forEach(function (t) {\n            o = e(t[0] >> n, t[1] >> n, t[2] >> n), i[o] = (i[o] || 0) + 1;\n          }), i;\n        }(h);\n\n        f.forEach(function () {});\n\n        var v = function (t, r) {\n          var o,\n              e,\n              i,\n              a = 1e6,\n              s = 0,\n              h = 1e6,\n              c = 0,\n              f = 1e6,\n              v = 0;\n          return t.forEach(function (t) {\n            (o = t[0] >> n) < a ? a = o : o > s && (s = o), (e = t[1] >> n) < h ? h = e : e > c && (c = e), (i = t[2] >> n) < f ? f = i : i > v && (v = i);\n          }), new u(a, s, h, c, f, v, r);\n        }(h, f),\n            l = new i(function (r, n) {\n          return t.naturalOrder(r.count(), n.count());\n        });\n\n        function g(t, r) {\n          for (var n, e = t.size(), i = 0; i < o;) {\n            if (e >= r) return;\n            if (i++ > o) return;\n\n            if ((n = t.pop()).count()) {\n              var u = s(f, n),\n                  a = u[0],\n                  h = u[1];\n              if (!a) return;\n              t.push(a), h && (t.push(h), e++);\n            } else t.push(n), i++;\n          }\n        }\n\n        l.push(v), g(l, 0.75 * c);\n\n        for (var p = new i(function (r, n) {\n          return t.naturalOrder(r.count() * r.volume(), n.count() * n.volume());\n        }); l.size();) p.push(l.pop());\n\n        g(p, c);\n\n        for (var d = new a(); p.size();) d.push(p.pop());\n\n        return d;\n      }\n    };\n  }().quantize,\n      n = function (t) {\n    this.canvas = document.createElement(\"canvas\"), this.context = this.canvas.getContext(\"2d\"), this.width = this.canvas.width = t.naturalWidth, this.height = this.canvas.height = t.naturalHeight, this.context.drawImage(t, 0, 0, this.width, this.height);\n  };\n\n  n.prototype.getImageData = function () {\n    return this.context.getImageData(0, 0, this.width, this.height);\n  };\n\n  var o = function () {};\n\n  return o.prototype.getColor = function (t, r) {\n    return void 0 === r && (r = 10), this.getPalette(t, 5, r)[0];\n  }, o.prototype.getPalette = function (t, o, e) {\n    var i = function (t) {\n      var r = t.colorCount,\n          n = t.quality;\n\n      if (void 0 !== r && Number.isInteger(r)) {\n        if (1 === r) throw new Error(\"colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()\");\n        r = Math.max(r, 2), r = Math.min(r, 20);\n      } else r = 10;\n\n      return (void 0 === n || !Number.isInteger(n) || n < 1) && (n = 10), {\n        colorCount: r,\n        quality: n\n      };\n    }({\n      colorCount: o,\n      quality: e\n    }),\n        u = new n(t),\n        a = function (t, r, n) {\n      for (var o = t, e = [], i = 0, u = void 0, a = void 0, s = void 0, h = void 0, c = void 0; i < r; i += n) a = o[0 + (u = 4 * i)], s = o[u + 1], h = o[u + 2], (void 0 === (c = o[u + 3]) || c >= 125) && (a > 250 && s > 250 && h > 250 || e.push([a, s, h]));\n\n      return e;\n    }(u.getImageData().data, u.width * u.height, i.quality),\n        s = r(a, i.colorCount);\n\n    return s ? s.palette() : null;\n  }, o.prototype.getColorFromUrl = function (t, r, n) {\n    var o = this,\n        e = document.createElement(\"img\");\n    e.addEventListener(\"load\", function () {\n      var i = o.getPalette(e, 5, n);\n      r(i[0], t);\n    }), e.src = t;\n  }, o.prototype.getImageData = function (t, r) {\n    var n = new XMLHttpRequest();\n    n.open(\"GET\", t, !0), n.responseType = \"arraybuffer\", n.onload = function () {\n      if (200 == this.status) {\n        var t = new Uint8Array(this.response);\n        i = t.length;\n\n        for (var n = new Array(i), o = 0; o < t.length; o++) n[o] = String.fromCharCode(t[o]);\n\n        var e = n.join(\"\"),\n            u = window.btoa(e);\n        r(\"data:image/png;base64,\" + u);\n      }\n    }, n.send();\n  }, o.prototype.getColorAsync = function (t, r, n) {\n    var o = this;\n    this.getImageData(t, function (t) {\n      var e = document.createElement(\"img\");\n      e.addEventListener(\"load\", function () {\n        var t = o.getPalette(e, 5, n);\n        r(t[0], this);\n      }), e.src = t;\n    });\n  }, o;\n});","map":{"version":3,"sources":["/Users/r/Desktop/React/MY PROJECTS/pokesimple/src/utils/color-thief.min.js"],"names":["t","r","exports","module","define","amd","ColorThief","map","n","o","index","call","slice","naturalOrder","sum","reduce","e","max","Math","apply","i","sort","push","peek","length","pop","size","debug","u","r1","r2","g1","g2","b1","b2","histo","a","vboxes","vbox","count","volume","s","copy","h","c","f","v","l","forEach","min","prototype","_volume","_count_set","_count","avg","_avg","contains","gval","bval","color","palette","nearest","sqrt","pow","forcebw","quantize","Array","g","p","d","canvas","document","createElement","context","getContext","width","naturalWidth","height","naturalHeight","drawImage","getImageData","getColor","getPalette","colorCount","quality","Number","isInteger","Error","data","getColorFromUrl","addEventListener","src","XMLHttpRequest","open","responseType","onload","status","Uint8Array","response","String","fromCharCode","join","window","btoa","send","getColorAsync"],"mappings":"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","sourcesContent":["!(function (t, r) {\n  \"object\" == typeof exports && \"undefined\" != typeof module\n    ? (module.exports = r())\n    : \"function\" == typeof define && define.amd\n    ? define(r)\n    : (t.ColorThief = r());\n})(this, function () {\n  if (!t)\n    var t = {\n      map: function (t, r) {\n        var n = {};\n        return r\n          ? t.map(function (t, o) {\n              return (n.index = o), r.call(n, t);\n            })\n          : t.slice();\n      },\n      naturalOrder: function (t, r) {\n        return t < r ? -1 : t > r ? 1 : 0;\n      },\n      sum: function (t, r) {\n        var n = {};\n        return t.reduce(\n          r\n            ? function (t, o, e) {\n                return (n.index = e), t + r.call(n, o);\n              }\n            : function (t, r) {\n                return t + r;\n              },\n          0\n        );\n      },\n      max: function (r, n) {\n        return Math.max.apply(null, n ? t.map(r, n) : r);\n      },\n    };\n  var r = (function () {\n      var r = 5,\n        n = 8 - r,\n        o = 1e3;\n      function e(t, n, o) {\n        return (t << (2 * r)) + (n << r) + o;\n      }\n      function i(t) {\n        var r = [],\n          n = !1;\n        function o() {\n          r.sort(t), (n = !0);\n        }\n        return {\n          push: function (t) {\n            r.push(t), (n = !1);\n          },\n          peek: function (t) {\n            return n || o(), void 0 === t && (t = r.length - 1), r[t];\n          },\n          pop: function () {\n            return n || o(), r.pop();\n          },\n          size: function () {\n            return r.length;\n          },\n          map: function (t) {\n            return r.map(t);\n          },\n          debug: function () {\n            return n || o(), r;\n          },\n        };\n      }\n      function u(t, r, n, o, e, i, u) {\n        (this.r1 = t),\n          (this.r2 = r),\n          (this.g1 = n),\n          (this.g2 = o),\n          (this.b1 = e),\n          (this.b2 = i),\n          (this.histo = u);\n      }\n      function a() {\n        this.vboxes = new i(function (r, n) {\n          return t.naturalOrder(\n            r.vbox.count() * r.vbox.volume(),\n            n.vbox.count() * n.vbox.volume()\n          );\n        });\n      }\n      function s(r, n) {\n        if (n.count()) {\n          var o = n.r2 - n.r1 + 1,\n            i = n.g2 - n.g1 + 1,\n            u = t.max([o, i, n.b2 - n.b1 + 1]);\n          if (1 == n.count()) return [n.copy()];\n          var a,\n            s,\n            h,\n            c,\n            f = 0,\n            v = [],\n            l = [];\n          if (u == o)\n            for (a = n.r1; a <= n.r2; a++) {\n              for (c = 0, s = n.g1; s <= n.g2; s++)\n                for (h = n.b1; h <= n.b2; h++) c += r[e(a, s, h)] || 0;\n              v[a] = f += c;\n            }\n          else if (u == i)\n            for (a = n.g1; a <= n.g2; a++) {\n              for (c = 0, s = n.r1; s <= n.r2; s++)\n                for (h = n.b1; h <= n.b2; h++) c += r[e(s, a, h)] || 0;\n              v[a] = f += c;\n            }\n          else\n            for (a = n.b1; a <= n.b2; a++) {\n              for (c = 0, s = n.r1; s <= n.r2; s++)\n                for (h = n.g1; h <= n.g2; h++) c += r[e(s, h, a)] || 0;\n              v[a] = f += c;\n            }\n          return (\n            v.forEach(function (t, r) {\n              l[r] = f - t;\n            }),\n            (function (t) {\n              var r,\n                o,\n                e,\n                i,\n                u,\n                s = t + \"1\",\n                h = t + \"2\",\n                c = 0;\n              for (a = n[s]; a <= n[h]; a++)\n                if (v[a] > f / 2) {\n                  for (\n                    e = n.copy(),\n                      i = n.copy(),\n                      u =\n                        (r = a - n[s]) <= (o = n[h] - a)\n                          ? Math.min(n[h] - 1, ~~(a + o / 2))\n                          : Math.max(n[s], ~~(a - 1 - r / 2));\n                    !v[u];\n\n                  )\n                    u++;\n                  for (c = l[u]; !c && v[u - 1]; ) c = l[--u];\n                  return (e[h] = u), (i[s] = e[h] + 1), [e, i];\n                }\n            })(u == o ? \"r\" : u == i ? \"g\" : \"b\")\n          );\n        }\n      }\n      return (\n        (u.prototype = {\n          volume: function (t) {\n            return (\n              (this._volume && !t) ||\n                (this._volume =\n                  (this.r2 - this.r1 + 1) *\n                  (this.g2 - this.g1 + 1) *\n                  (this.b2 - this.b1 + 1)),\n              this._volume\n            );\n          },\n          count: function (t) {\n            var r = this.histo;\n            if (!this._count_set || t) {\n              var n,\n                o,\n                i,\n                u = 0;\n              for (n = this.r1; n <= this.r2; n++)\n                for (o = this.g1; o <= this.g2; o++)\n                  for (i = this.b1; i <= this.b2; i++) u += r[e(n, o, i)] || 0;\n              (this._count = u), (this._count_set = !0);\n            }\n            return this._count;\n          },\n          copy: function () {\n            return new u(\n              this.r1,\n              this.r2,\n              this.g1,\n              this.g2,\n              this.b1,\n              this.b2,\n              this.histo\n            );\n          },\n          avg: function (t) {\n            var n = this.histo;\n            if (!this._avg || t) {\n              var o,\n                i,\n                u,\n                a,\n                s = 0,\n                h = 1 << (8 - r),\n                c = 0,\n                f = 0,\n                v = 0;\n              for (i = this.r1; i <= this.r2; i++)\n                for (u = this.g1; u <= this.g2; u++)\n                  for (a = this.b1; a <= this.b2; a++)\n                    (s += o = n[e(i, u, a)] || 0),\n                      (c += o * (i + 0.5) * h),\n                      (f += o * (u + 0.5) * h),\n                      (v += o * (a + 0.5) * h);\n              this._avg = s\n                ? [~~(c / s), ~~(f / s), ~~(v / s)]\n                : [\n                    ~~((h * (this.r1 + this.r2 + 1)) / 2),\n                    ~~((h * (this.g1 + this.g2 + 1)) / 2),\n                    ~~((h * (this.b1 + this.b2 + 1)) / 2),\n                  ];\n            }\n            return this._avg;\n          },\n          contains: function (t) {\n            var r = t[0] >> n;\n            return (\n              (gval = t[1] >> n),\n              (bval = t[2] >> n),\n              r >= this.r1 &&\n                r <= this.r2 &&\n                gval >= this.g1 &&\n                gval <= this.g2 &&\n                bval >= this.b1 &&\n                bval <= this.b2\n            );\n          },\n        }),\n        (a.prototype = {\n          push: function (t) {\n            this.vboxes.push({ vbox: t, color: t.avg() });\n          },\n          palette: function () {\n            return this.vboxes.map(function (t) {\n              return t.color;\n            });\n          },\n          size: function () {\n            return this.vboxes.size();\n          },\n          map: function (t) {\n            for (var r = this.vboxes, n = 0; n < r.size(); n++)\n              if (r.peek(n).vbox.contains(t)) return r.peek(n).color;\n            return this.nearest(t);\n          },\n          nearest: function (t) {\n            for (var r, n, o, e = this.vboxes, i = 0; i < e.size(); i++)\n              ((n = Math.sqrt(\n                Math.pow(t[0] - e.peek(i).color[0], 2) +\n                  Math.pow(t[1] - e.peek(i).color[1], 2) +\n                  Math.pow(t[2] - e.peek(i).color[2], 2)\n              )) < r ||\n                void 0 === r) &&\n                ((r = n), (o = e.peek(i).color));\n            return o;\n          },\n          forcebw: function () {\n            var r = this.vboxes;\n            r.sort(function (r, n) {\n              return t.naturalOrder(t.sum(r.color), t.sum(n.color));\n            });\n            var n = r[0].color;\n            n[0] < 5 && n[1] < 5 && n[2] < 5 && (r[0].color = [0, 0, 0]);\n            var o = r.length - 1,\n              e = r[o].color;\n            e[0] > 251 &&\n              e[1] > 251 &&\n              e[2] > 251 &&\n              (r[o].color = [255, 255, 255]);\n          },\n        }),\n        {\n          quantize: function (h, c) {\n            if (!h.length || c < 2 || c > 256) return !1;\n            var f = (function (t) {\n              var o,\n                i = new Array(1 << (3 * r));\n              return (\n                t.forEach(function (t) {\n                  (o = e(t[0] >> n, t[1] >> n, t[2] >> n)),\n                    (i[o] = (i[o] || 0) + 1);\n                }),\n                i\n              );\n            })(h);\n            f.forEach(function () {});\n            var v = (function (t, r) {\n                var o,\n                  e,\n                  i,\n                  a = 1e6,\n                  s = 0,\n                  h = 1e6,\n                  c = 0,\n                  f = 1e6,\n                  v = 0;\n                return (\n                  t.forEach(function (t) {\n                    (o = t[0] >> n) < a ? (a = o) : o > s && (s = o),\n                      (e = t[1] >> n) < h ? (h = e) : e > c && (c = e),\n                      (i = t[2] >> n) < f ? (f = i) : i > v && (v = i);\n                  }),\n                  new u(a, s, h, c, f, v, r)\n                );\n              })(h, f),\n              l = new i(function (r, n) {\n                return t.naturalOrder(r.count(), n.count());\n              });\n            function g(t, r) {\n              for (var n, e = t.size(), i = 0; i < o; ) {\n                if (e >= r) return;\n                if (i++ > o) return;\n                if ((n = t.pop()).count()) {\n                  var u = s(f, n),\n                    a = u[0],\n                    h = u[1];\n                  if (!a) return;\n                  t.push(a), h && (t.push(h), e++);\n                } else t.push(n), i++;\n              }\n            }\n            l.push(v), g(l, 0.75 * c);\n            for (\n              var p = new i(function (r, n) {\n                return t.naturalOrder(\n                  r.count() * r.volume(),\n                  n.count() * n.volume()\n                );\n              });\n              l.size();\n\n            )\n              p.push(l.pop());\n            g(p, c);\n            for (var d = new a(); p.size(); ) d.push(p.pop());\n            return d;\n          },\n        }\n      );\n    })().quantize,\n    n = function (t) {\n      (this.canvas = document.createElement(\"canvas\")),\n        (this.context = this.canvas.getContext(\"2d\")),\n        (this.width = this.canvas.width = t.naturalWidth),\n        (this.height = this.canvas.height = t.naturalHeight),\n        this.context.drawImage(t, 0, 0, this.width, this.height);\n    };\n  n.prototype.getImageData = function () {\n    return this.context.getImageData(0, 0, this.width, this.height);\n  };\n  var o = function () {};\n  return (\n    (o.prototype.getColor = function (t, r) {\n      return void 0 === r && (r = 10), this.getPalette(t, 5, r)[0];\n    }),\n    (o.prototype.getPalette = function (t, o, e) {\n      var i = (function (t) {\n          var r = t.colorCount,\n            n = t.quality;\n          if (void 0 !== r && Number.isInteger(r)) {\n            if (1 === r)\n              throw new Error(\n                \"colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()\"\n              );\n            (r = Math.max(r, 2)), (r = Math.min(r, 20));\n          } else r = 10;\n          return (\n            (void 0 === n || !Number.isInteger(n) || n < 1) && (n = 10),\n            { colorCount: r, quality: n }\n          );\n        })({ colorCount: o, quality: e }),\n        u = new n(t),\n        a = (function (t, r, n) {\n          for (\n            var o = t,\n              e = [],\n              i = 0,\n              u = void 0,\n              a = void 0,\n              s = void 0,\n              h = void 0,\n              c = void 0;\n            i < r;\n            i += n\n          )\n            (a = o[0 + (u = 4 * i)]),\n              (s = o[u + 1]),\n              (h = o[u + 2]),\n              (void 0 === (c = o[u + 3]) || c >= 125) &&\n                ((a > 250 && s > 250 && h > 250) || e.push([a, s, h]));\n          return e;\n        })(u.getImageData().data, u.width * u.height, i.quality),\n        s = r(a, i.colorCount);\n      return s ? s.palette() : null;\n    }),\n    (o.prototype.getColorFromUrl = function (t, r, n) {\n      var o = this,\n        e = document.createElement(\"img\");\n      e.addEventListener(\"load\", function () {\n        var i = o.getPalette(e, 5, n);\n        r(i[0], t);\n      }),\n        (e.src = t);\n    }),\n    (o.prototype.getImageData = function (t, r) {\n      var n = new XMLHttpRequest();\n      n.open(\"GET\", t, !0),\n        (n.responseType = \"arraybuffer\"),\n        (n.onload = function () {\n          if (200 == this.status) {\n            var t = new Uint8Array(this.response);\n            i = t.length;\n            for (var n = new Array(i), o = 0; o < t.length; o++)\n              n[o] = String.fromCharCode(t[o]);\n            var e = n.join(\"\"),\n              u = window.btoa(e);\n            r(\"data:image/png;base64,\" + u);\n          }\n        }),\n        n.send();\n    }),\n    (o.prototype.getColorAsync = function (t, r, n) {\n      var o = this;\n      this.getImageData(t, function (t) {\n        var e = document.createElement(\"img\");\n        e.addEventListener(\"load\", function () {\n          var t = o.getPalette(e, 5, n);\n          r(t[0], this);\n        }),\n          (e.src = t);\n      });\n    }),\n    o\n  );\n});\n"]},"metadata":{},"sourceType":"module"}